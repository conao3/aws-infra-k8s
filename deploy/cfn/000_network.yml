# Code generated by Makefile. DO NOT EDIT.

AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Parameters:
  Prefix:
    Type: String
  Env:
    Type: String
Mappings:
  CIDR:
    dev:
      Vpc: 10.0.0.0/16
      SubnetPubA: 10.0.0.0/24
      SubnetPriAppA: 10.0.10.0/24
      SubnetPriDbA: 10.0.20.0/24
      SubnetPubC: 10.0.30.0/24
      SubnetPriAppC: 10.0.40.0/24
      SubnetPriDbC: 10.0.50.0/24
    prd:
      Vpc: 20.0.0.0/16
      SubnetPubA: 20.0.0.0/24
      SubnetPriAppA: 20.0.10.0/24
      SubnetPriDbA: 20.0.20.0/24
      SubnetPubC: 20.0.30.0/24
      SubnetPriAppC: 20.0.40.0/24
      SubnetPriDbC: 20.0.50.0/24
Resources:
  Vpc:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - Vpc
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-vpc
  SubnetPubA:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: Vpc
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - SubnetPubA
      AvailabilityZone: ap-northeast-1a
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-pub-a
  SubnetPriAppA:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: Vpc
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - SubnetPriAppA
      AvailabilityZone: ap-northeast-1a
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-pri-app-a
  SubnetPriDbA:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: Vpc
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - SubnetPriDbA
      AvailabilityZone: ap-northeast-1a
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-pri-db-a
  SubnetPubC:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: Vpc
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - SubnetPubC
      AvailabilityZone: ap-northeast-1c
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-pub-c
  SubnetPriAppC:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: Vpc
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - SubnetPriAppC
      AvailabilityZone: ap-northeast-1c
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-pri-app-c
  SubnetPriDbC:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: Vpc
      CidrBlock:
        Fn::FindInMap:
          - CIDR
          - Ref: Env
          - SubnetPriDbC
      AvailabilityZone: ap-northeast-1c
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-pri-db-c
Outputs:
  Vpc:
    Value:
      Ref: Vpc
    Export:
      Name:
        Fn::Sub: ${Prefix}-Vpc
  SubnetPubA:
    Value:
      Ref: SubnetPubA
    Export:
      Name:
        Fn::Sub: ${Prefix}-SubnetPubA
  SubnetPriAppA:
    Value:
      Ref: SubnetPriAppA
    Export:
      Name:
        Fn::Sub: ${Prefix}-SubnetPriAppA
  SubnetPriDbA:
    Value:
      Ref: SubnetPriDbA
    Export:
      Name:
        Fn::Sub: ${Prefix}-SubnetPriDbA
  SubnetPubC:
    Value:
      Ref: SubnetPubC
    Export:
      Name:
        Fn::Sub: ${Prefix}-SubnetPubC
  SubnetPriAppC:
    Value:
      Ref: SubnetPriAppC
    Export:
      Name:
        Fn::Sub: ${Prefix}-SubnetPriAppC
  SubnetPriDbC:
    Value:
      Ref: SubnetPriDbC
    Export:
      Name:
        Fn::Sub: ${Prefix}-SubnetPriDbC
