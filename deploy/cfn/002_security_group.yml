# Code generated by Makefile. DO NOT EDIT.

AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Parameters:
  Prefix:
    Type: String
  Env:
    Type: String
  Vpc:
    Type: String
Resources:
  SecurityGroupK8sMaster:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-k8s-master
      GroupDescription: Security Group for K8s-Master
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-k8s-master
  SecurityGroupK8sWorker:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-k8s-worker
      GroupDescription: Security Group for K8s-Worker
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-k8s-worker
  SecurityGroupDb:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-db
      GroupDescription: Security Group for DB
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-db
  SecurityGroupSshTunnel:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-ssh-tunnel
      GroupDescription: Security Group for ssh tunnnel EC2
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-ssh-tunnel
  SecurityGroupEice:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-eice
      GroupDescription: Security Group for EC2 Instance Connect Endpoint
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-eice
Outputs:
  SecurityGroupK8sMaster:
    Value:
      Ref: SecurityGroupK8sMaster
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupK8sMaster
  SecurityGroupK8sWorker:
    Value:
      Ref: SecurityGroupK8sWorker
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupK8sWorker
  SecurityGroupDb:
    Value:
      Ref: SecurityGroupDb
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupDb
  SecurityGroupSshTunnel:
    Value:
      Ref: SecurityGroupSshTunnel
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupSshTunnel
  SecurityGroupEice:
    Value:
      Ref: SecurityGroupEice
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupEice
