# Code generated by Makefile. DO NOT EDIT.

AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Parameters:
  Prefix:
    Type: String
  Env:
    Type: String
  Vpc:
    Type: String
Resources:
  SecurityGroupRouter:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-router
      GroupDescription: Security Group for Router
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-router
  SecurityGroupApp:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-app
      GroupDescription: Security Group for App
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-app
  SecurityGroupDb:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-db
      GroupDescription: Security Group for DB
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-db
  SecurityGroupSshTunnel:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-ssh-tunnel
      GroupDescription: Security Group for ssh tunnnel EC2
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-ssh-tunnel
  SecurityGroupEice:
    Type: AWS::EC2::SecurityGroup
    Properties:
      VpcId:
        Ref: Vpc
      GroupName:
        Fn::Sub: ${Prefix}-eice
      GroupDescription: Security Group for EC2 Instance Connect Endpoint
      Tags:
        - Key: Name
          Value:
            Fn::Sub: ${Prefix}-eice
Outputs:
  SecurityGroupRouter:
    Value:
      Ref: SecurityGroupRouter
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupRouter
  SecurityGroupApp:
    Value:
      Ref: SecurityGroupApp
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupApp
  SecurityGroupDb:
    Value:
      Ref: SecurityGroupDb
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupDb
  SecurityGroupSshTunnel:
    Value:
      Ref: SecurityGroupSshTunnel
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupSshTunnel
  SecurityGroupEice:
    Value:
      Ref: SecurityGroupEice
    Export:
      Name:
        Fn::Sub: ${Prefix}-SecurityGroupEice
